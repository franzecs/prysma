<div class="card">
  <div class="page-top">
    Detalhes da Empresa
    <a [routerLink]="['/admin/root/empresas']">
      <button class=" btn btn-warning btn-xs fa fa-arrow-circle-left pull-right" 
        style="margin-top:2px;margin-right: 2px; padding: 2px;"></button>
    </a>  
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-xs-12 col-sm-3 text-center">
        <div *ngIf="empresa === undefined" class="text-center">
          <loading-spinner></loading-spinner>
        </div>
        <div *ngIf="empresa !== undefined">
        <img [src]="empresa.url_logo" class="img-fluid img-thumbnail" style="width: 200px;" *ngIf="empresa.url_logo !== undefined" />
        <img src="../../../../../assets/img/prod.jpg" class="img-fluid img-thumbnail" style="width: 200px;" *ngIf="empresa.url_logo === undefined || '' "/>
      </div> 
      </div>
      <div class="col-xs-12 col-sm-9" *ngIf="empresa !== undefined">
        <form [formGroup]="formulario" (ngSubmit)="preparaObjeto()">
            <div class="col-xs-12">
              <div class="row">
                <div class="col-sm-12 col-md-8">
                  <div class="form-group">
                    <label for="nome">Nome</label> 
                    <input type="text" placeholder="nome" class="form-control"
                      formControlName="nome"  ikUpCase
                    />
                  </div> 
                </div>
                <div class="col-sm-12 col-md-4">
                    <div class="form-group">
                        <label for="cnpj">CNPJ</label> 
                        <input id="cnpj" type="text" class="form-control"
                          formControlName="cnpj"  IkMask="99.999.999/9999-99"
                        />
                    </div> 
                </div>
                <div class="col-sm-12 col-md-12">
                  <div class="form-group">
                      <label for="endereco">Endere√ßo</label> 
                      <input id="endereco" type="text" class="form-control"
                        formControlName="endereco"  ikUpCase
                      />
                  </div> 
              </div>
              <div class="col-sm-12 col-md-3">
                <div class="form-group">
                    <label for="telefone">Telefone</label> 
                    <input id="telefone" type="text" class="form-control"
                      formControlName="telefone"  IkMask="(99)9999-9999"
                    />
                </div> 
            </div>
                <div class="col-sm-12 col-md-9">
                  <div class="form-group">
                      <label for="email">Email</label> 
                      <input id="email" type="email" class="form-control"
                        formControlName="email"  ikLoCase
                      />
                  </div> 
                </div>
                <div class="col-sm-12 col-md-4">
                  <div class="form-group">
                    <select class="custom-select" size="2" multiple formControlName="tipo">
                      <option value="Matriz">Matriz</option>
                      <option value="Filial">Filial</option>
                    </select>
                  </div> 
                </div>    
                <div class="col-sm-12 col-md-8" *ngIf= "formulario.get('tipo').value[0] === 'Filial' ">
                  <div class="form-group">
                    <label for="matriz">Matriz</label> 
                    <input id="matriz" type="text" class="form-control"
                      formControlName="matriz"  ikUpCase
                    />
                  </div> 
                </div>
              </div>
            </div>           
            <hr/>
            <button type="submit" class="btn btn-primary ">Salvar</button>
            <button type="button" class="btn btn-primary pull-right" 
                data-toggle="modal" data-target="#ikUpload">Upload Logo</button>
        </form>
      </div>
    </div>       
  </div> 
  <ik-upload 
    [id]="id" 
    [basePath]="basePath"
    (urlFileUpload)="receiveUrl($event)"    
  > </ik-upload>   
  <modal-message></modal-message>
</div>